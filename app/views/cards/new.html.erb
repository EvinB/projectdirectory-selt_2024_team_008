<div class="top-navigation">
  <%= button_to "Return to Shop", shop_index_path, class: "btn return-btn", method: :get%>
  <div class="shard-balance-display">
    <p><strong>Shard Balance:</strong> <%= current_user.shard_account.balance %> Shards</p>
  </div>
</div>

<div class="add-funds-container">
  <h2>Add a Card to Your Shard Account</h2>
  <%= form_with model: @card, url: shard_account_card_path(@shard_account), method: :post, class: "add-card-form" do |f| %>
    <h3>Card Information</h3>
    <div class="form-group">
      <%= f.label :card_number_encrypted, "Card Number", class: "form-label" %>
      <%= f.text_field :card_number_encrypted, placeholder: "1234 5678 9012 3456", class: "form-input", required: true %>
    </div>

    <div class="form-row" style="display: flex; gap: 10px;">
      <div class="form-group" style="flex: 1;">
        <%= f.label :expiry_date, "Expiry Date (MM/YY)", class: "form-label" %>
        <%= f.text_field :expiry_date, placeholder: "MM/YY", class: "form-input", required: true %>
      </div>

      <div class="form-group" style="flex: 1;">
        <%= f.label :cvv_encrypted, "CVV", class: "form-label" %>
        <%= f.text_field :cvv_encrypted, placeholder: "123", class: "form-input", required: true %>
      </div>
    </div>

    <h3>Billing Address</h3>
    <div class="form-group">
      <%= f.label :billing_address, "Street Address", class: "form-label" %>
      <%= f.text_area :billing_address, placeholder: "123 Main St", rows: 3, class: "form-input", required: true %>
    </div>

    <div class="form-actions">
      <%= f.submit "Save Information", class: "btn-submit" %>
    </div>
  <% end %>
</div>
